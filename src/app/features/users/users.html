<div class="users-container container-fluid min-vh-100 py-5">
  <div class="content-wrapper">
    <div class="header-section mb-5 d-flex justify-content-between align-items-center">
      <div>
        <h1 class="display-5 fw-bold text-white mb-2">Gestión de Usuarios</h1>
        <p class="lead text-rose mb-0">Listado completo de miembros de la academia</p>
      </div>
      <!-- <a routerLink="/register" class="btn btn-navy d-flex align-items-center">
        <i class="bi bi-person-plus-fill me-2 fs-5"></i> Registrar Nuevo
      </a> -->
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="text-center py-5">
      <div class="spinner-border text-rose" role="status">
        <span class="visually-hidden">Cargando...</span>
      </div>
      <p class="text-white mt-3">Cargando base de datos de usuarios...</p>
    </div>

    <!-- Empty State -->
    <div *ngIf="!loading && users.length === 0" class="text-center py-5 glass-card">
      <i class="bi bi-people text-rose display-1 mb-4"></i>
      <h3 class="text-white">No hay usuarios registrados</h3>
      <p class="text-white opacity-75">Parece que aún no hay miembros en la academia.</p>
    </div>

    <!-- Users Table -->
    <div *ngIf="!loading && users.length > 0" class="table-container glass-card">
      <div class="table-responsive">
        <table class="table table-hover align-middle mb-0">
          <thead>
            <tr>
              <th scope="col" class="ps-4">Nombre</th>
              <th scope="col">Correo Electrónico</th>
              <th scope="col" class="text-center">Rol</th>
              <th scope="col" class="text-center">Estado</th>
              <th scope="col" class="text-end pe-4">Contraseña</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let user of users">
              <td class="ps-4">
                <div class="d-flex align-items-center">
                  <div class="avatar-circle me-3" [style.background-color]="user.admin ? '#d69ca0' : '#002147'">
                    {{ user.name.charAt(0).toUpperCase() }}
                  </div>
                  <span class="fw-bold text-white">{{ user.name }}</span>
                </div>
              </td>
              <td class="text-white-50">{{ user.email }}</td>
              <td class="text-center">
                <span class="badge rounded-pill" [ngClass]="user.admin ? 'bg-rose text-navy' : 'bg-outline-rose text-rose'">
                  {{ user.admin ? 'Administrador' : 'Estudiante' }}
                </span>
              </td>
              <td class="text-center">
                <span class="status-indicator" [class.active]="user.active"></span>
                <span class="text-white-50 small ms-2">{{ user.active ? 'Activo' : 'Inactivo' }}</span>
              </td>
              <td class="text-end pe-4">
                <code class="text-rose">{{ user.password }}</code>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="mt-4 text-white-50 small">
      <i class="bi bi-info-circle me-1"></i> Total de usuarios registrados: {{ users.length }}
    </div>
  </div>
</div>
